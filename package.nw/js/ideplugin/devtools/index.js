!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=316)}({18:function(e){const t=window.navigator||window.__global.navigator,n=window.WebSocket||window.__global.WebSocket,o=window.prompt||window.__global.prompt,i=t.userAgent.match(/port\/(\d*)/),r=i?parseInt(i[1]):9974,s=`ws://127.0.0.1:${r}`;let a=0;e.exports=class{constructor(e,t=!0){if(this._protocol=e,this._needToken=t,this._ws=null,this._msgQueue=[],this._callback=[],this.tryTime=0,"complete"===document.readyState||"interactive"===document.readyState)setTimeout(()=>{this.connect()});else{const e=()=>{this.connect(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}connect(){if(!r)return;if(a++>=10)return;let e=this._protocol;if(this._needToken){e=`${e}#${o("GET_MESSAGE_TOKEN")}#`}this._ws=new n(s,e),this._ws.onopen=()=>{let e=[].concat(this._msgQueue);this._msgQueue=[],e.forEach(e=>{this.send(e)})},this._ws.onclose=()=>{this._ws=null,setTimeout(()=>{this.tryTime<100&&(this.tryTime++,this.connect())},150)},this._ws.onmessage=e=>{try{let t=JSON.parse(e.data);this._callback.forEach(e=>{try{e.call(this,t)}catch(e){}})}catch(e){}}}send(e){this._ws&&this._ws.readyState===n.OPEN?this._ws.send(JSON.stringify(e)):this._msgQueue.push(e)}registerCallback(e){"function"==typeof e&&this._callback.push(e)}}},316:function(e,t,n){"use strict";function o(e,t,n){let o;n.onShown.addListener(function(n){window.parent.alert(`debugger:click:${e}`),n.pluginId||(Object.defineProperty(n,"pluginId",{value:e,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(n,"wechatide",{value:new i.default(`${e}_${t}`),writable:!1,enumerable:!1,configurable:!1}),n.dispatchEvent(new CustomEvent("wechatideReady",{detail:n.wechatide})),function(e,t){if(e&&e.document&&e.document.body){const n=e.document.body,o=n.classList.contains("dark");"dark"!==t||o||n.classList.add("dark"),"dark"!==t&&o&&n.classList.remove("dark")}}(n,window.parent.__theme__)),o=n,"function"==typeof n.onShown&&n.onShown()}),n.onHidden.addListener(function(){o&&"function"==typeof o.onHidden&&o.onHidden()})}Object.defineProperty(t,"__esModule",{value:!0});const i=n(317),r=n(318),{isMiniProgram:s,isGame:a,isRemoteDebug:c,isGameRemoteDebug:l}=r.default;!function(){if(l)return;if(!s&&!c&&!a)return;const e=s?"miniprogram":a?"game":"remotedebug";(s||a)&&window.addEventListener("message",e=>{const t=e.data;"object"==typeof t&&"securityDetails"===t.command&&chrome.devtools.inspectedWindow.eval(`window.setSecurityDetails('${t.url}', '${JSON.stringify(t)}')`,()=>{})}),document.addEventListener("manifestReady",function(t){const n=t.detail;for(const t in n){const i=n[t];i.devtools_type&&0<=i.devtools_type.indexOf(e)?chrome.devtools.panels.create(i.name||"","",i.main||"",o.bind(null,t,e)):console.log("not going to show",i.name)}}),function(){const e=document.createElement("script"),t=navigator.userAgent.match(/proxy\/(\d*)/);t&&(e.src=`http://127.0.0.1:${t[1]}/ideplugin/devtools/manifest.js`,document.head.appendChild(e))}()}()},317:function(e,t,n){"use strict";function o(e,t){const n=r();return this.__callbackMap[n]={callback:e,resolve:t},n}Object.defineProperty(t,"__esModule",{value:!0});const i=n(18),r=function(){let e=1;return function(){return e++}}(),s=()=>{};t.default=class{constructor(e){this.__callbackMap={},this.__onEvent={},Object.defineProperty(this,"__callbackMap",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__onEvent",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__messager",{value:new i(`PLUGIN_${e}`),writable:!1,enumerable:!1,configurable:!1}),this.__messager.registerCallback(e=>{const{command:t,data:n}=e;if("INVOKE_CALLBACK"===t){const{callbackID:e,res:t}=n,o=this.__callbackMap[e];o&&("function"==typeof o.callback&&o.callback(t),"function"==typeof o.resolve&&o.resolve(t)),delete this.__callbackMap[e]}if("ON_EVENT"===t){const{eventName:e,res:t}=n,o=this.__onEvent[e];"function"==typeof o&&o(t)}})}get invoke(){return(e,t,n)=>(n="function"==typeof n?n:s,new Promise(i=>{this.__messager.send({command:e,data:t,callbackID:o.call(this,n,i)})}))}get on(){return(e,t)=>{t="function"==typeof t?t:s,this.__onEvent[e]=t}}}},318:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=navigator.userAgent,o=-1!==n.indexOf("appservicedevtools"),i=-1!==n.indexOf("gameservicedevtools"),r=-1!==n.indexOf("remotedebugdevtools"),s=-1!==n.indexOf("compileType/game");t.default={isMiniProgram:o,isGame:i,isRemoteDebug:r,isGameRemoteDebug:s}}});