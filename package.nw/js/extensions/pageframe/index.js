!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(t){return e[t]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=235)}({18:function(e){const t=window.navigator||window.__global.navigator,n=window.WebSocket||window.__global.WebSocket,o=window.prompt||window.__global.prompt,s=t.userAgent.match(/port\/(\d*)/),i=s?parseInt(s[1]):9974,c=`ws://127.0.0.1:${i}`;let l=0;e.exports=class{constructor(e,t=!0){if(this._protocol=e,this._needToken=t,this._ws=null,this._msgQueue=[],this._callback=[],this.tryTime=0,"complete"===document.readyState||"interactive"===document.readyState)setTimeout(()=>{this.connect()});else{const e=()=>{this.connect(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}connect(){if(!i)return;if(l++>=10)return;let e=this._protocol;if(this._needToken){e=`${e}#${o("GET_MESSAGE_TOKEN")}#`}this._ws=new n(c,e),this._ws.onopen=()=>{let e=[].concat(this._msgQueue);this._msgQueue=[],e.forEach(e=>{this.send(e)})},this._ws.onclose=()=>{this._ws=null,setTimeout(()=>{this.tryTime<100&&(this.tryTime++,this.connect())},150)},this._ws.onmessage=e=>{try{let t=JSON.parse(e.data);this._callback.forEach(e=>{try{e.call(this,t)}catch(e){}})}catch(e){}}}send(e){this._ws&&this._ws.readyState===n.OPEN?this._ws.send(JSON.stringify(e)):this._msgQueue.push(e)}registerCallback(e){"function"==typeof e&&this._callback.push(e)}}},235:function(e,t,n){"use strict";function o(){window.WeixinJSBridge={on:s.default(),invoke:i.default(),publish:c.default,subscribe:l.default()},(new u.default).init();const e=document.createEvent("UIEvent");e.initEvent("WeixinJSBridgeReady",!1,!1),document.dispatchEvent(e),a.default.init()}Object.defineProperty(t,"__esModule",{value:!0});const s=n(236),i=n(238),c=n(242),l=n(243),u=n(244),a=n(65);!function(){if("complete"===document.readyState||"interactive"===document.readyState)o();else{const e=()=>{o(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}()},236:function(e,t,n){"use strict";function o(e,t){t&&(c[e]=t)}Object.defineProperty(t,"__esModule",{value:!0});const s=n(27),i=n(237),c={};let l=!1;const u=()=>{l||(l=!0,s.default.registerCallback(e=>{const{command:t,data:n}=e;"WEBVIEW_ON_EVENT"===t&&function(e,t){const n=c[e];"function"==typeof n&&n(t,i.default.webviewID)}(n.eventName,n.data)}))};t.default=()=>(u(),o)},237:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=navigator.userAgent,o=-1!==n.indexOf("Android"),s=-1!==n.indexOf("iPhone"),i=-1!==n.indexOf("weapp"),c=n.match(/webview\/(\d*)/),l=c?parseInt(c[1],10):0;t.default={isAndroid:o,isiPhone:s,webviewID:l,isWeapp:i}},238:function(e,t,n){"use strict";function o(e,t,n){if("disableScrollBounce"===e)return void i.default.togglePullDownRefresh(t.disable);const o=r(n);c.default[e]&&c.default[e](e,t,o);const a=u++;l[a]=o,s.default.send({command:"WEBVIEW_INVOKE",data:{api:e,args:t,callbackID:a}})}Object.defineProperty(t,"__esModule",{value:!0});const s=n(27),i=n(65),c=n(241),l={};let u=1,a=!1;const r=function(e,t=!1){return function(n){"function"==typeof e&&(t?e(n):setTimeout(()=>{e(n)},0))}};t.default=()=>(a||(a=!0,s.default.registerCallback(e=>{const{command:t,data:n}=e;if("WEBVIEW_INVOKE_CALLBACK"===t){const e=n.callbackID,t=l[e];"function"==typeof t&&t(n.res),delete l[e]}})),o)},239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/gif;base64,R0lGODlhQAAMAMQZAPT09Orq6ubm5unp6dPT06ysrPz8/NbW1q+vr9fX1+vr687Ozv39/fr6+tXV1Z6ens3NzZ2dnZubm66urpycnKurq+Xl5czMzJmZmf///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFEQzRGRkU4NkU4MTFFNjkwOTg4NjNGN0JEMzY0OTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFEQzRGRkQ4NkU4MTFFNjkwOTg4NjNGN0JEMzY0OTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplY2RjM2MyNC03NDBkLTQ1NzMtOTc0Ni1iZGQ2MzhlMjEyYjUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MGUzZDU2Ny1jZTk1LTExNzktYWFmZC04MmQ1NzRhYmI2YzIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJFAAZACwAAAAAQAAMAAAFvmCWMQTyPAjBiGzrukOyLMnw3jegCIICtIACZkgs/HC3xuHCbB4ayJshYKlaA4aRkMgtZKOtZXPsALuo1nQgQ+C6MQSzaDCuX2xyQHpvASDeXAhyGQl2YwmDCnxpChKARBSDEIZNEIMCi1YCjo8YD5KUTAuXmVUCf52CcoWhiHKKpQptnXFydKF4ZnqlAAZbbxVfcg6UZYMZaHxrGUFvRscZSnYOUMdTysIkExEREyrQLAMHMwe54AABPAFHGSEAIfkECRQAGQAsAAAAAEAADAAABb9gJgKKICiAqK4syxDI8yAE097tkCxLMqyGgGVIDBhwOEABw2wWUshW43CpWg8NkZDIDURdy6a4cPyqqNa0IwPgui1QM0FMxxDMokF6fxko3lwKeBkIdWIIgwl8aQkCgEQCgxKGTRSDEItWEI6PFpF4k5QYD5eZVQt/nYJ4haKIeIqmCW2dcV9zond4eqY/W29egwZhdRVleA6ZaxlBwMd4SnVPgyJTfA5ZKgABJgG21C8TERETNdQrAwc8Bz8iIQAh+QQFFAAZACwAAAAAQAAMAAAFv2AmDsmyJIOormwLKIKgAG3dMgTyPAjBqI3DZUg8NGw2Q8DCbAYMyBqggKlaC7SMkMh1RFvLpjjwXTGo1nTBMOC6L6lyBiCuW7JlQnqPISTeXAlyGQp2YgqDCHxpCBCARBCDAoZNAoMSi1YUjo8XC5KUTJZymJkYD3+dgnKFoYhyiqYIbZ1xZXSheF96pgQZDo9egxlhdmSDBmh8FVBBbw5Hw0rGUMNTfFgrAwcmB7bDIgABMQG6wzgTERETPiIhADs="},240:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/gif;base64,R0lGODlhQAAMAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Q5MjI2RkE4NkU1MTFFNkFDRDc5Mjc3OTE2NjVFRTMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Q5MjI2Rjk4NkU1MTFFNkFDRDc5Mjc3OTE2NjVFRTMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphODFiMWQ5My0wMDIwLTRiYmItYjVlMS04YjI4NTFkMzMzMjIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6YTgxYjFkOTMtMDAyMC00YmJiLWI1ZTEtOGIyODUxZDMzMzIyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkECRQAAQAsAAAAAEAADAAAAkVMgInG7a7Wmy+CZhWlOe3ZLaH3YWEJnaOErhd6uCscj7Q8w+6Nn3re6nV4tp/QQvQFjxFaLeN8IqVNZzE5pbKi2SiVUQAAIfkECRQAAQAsAAAAAEAADAAAAkWMgWnL3QmBmy7KZSGlWe3aXeH1YSNZBqN6pkfrnjL6yS47h7cd53q/AvosO1hq2CkGj60l01kKQqM/ZYZBvGGvWpPGUAAAIfkEBRQAAQAsAAAAAEAADAAAAkWMgWnL7amcbBCuWufEVj+OHCDgfWDJjGqGBivZvm/rrrRsxzmKq/de6o1+Pp0QQxwah8Uk0smpnWjSKLVZDVFTrG02UgAAOw=="},241:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={reportKeyValue:(e,t,n)=>{n({errMsg:`${e}:ok`})},reportIDKey:(e,t,n)=>{n({errMsg:`${e}:ok`})},traceEvent:(e,t,n)=>{n({errMsg:`${e}:ok`})}}},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(27);t.default=function(e,t){o.default.send({command:"WEBVIEW_PUBLISH",data:{eventName:e,data:t}})}},243:function(e,t,n){"use strict";function o(e,t){i[e]=t}Object.defineProperty(t,"__esModule",{value:!0});const s=n(27),i={};let c=!1;const l=()=>{c||(c=!0,s.default.registerCallback(e=>{const{command:t,data:n,webviewID:o}=e;"APPSERVICE_PUBLISH"===t&&function(e,t,n){const o=i[e];"function"==typeof o&&o(t,n)}(n.eventName,n.data,o)}))};t.default=()=>(l(),o)},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(52),s=n(44),i=n(45),{webview:c}=i;t.default=class extends o.default{constructor(){super(...arguments),this.LAST_X=0,this.LAST_Y=0,this.tapElement=(e,t)=>{const n=this.ACTIVE_ELEMENT=this.nodeManager.getDOM(e);if(!n)return{status:s.default.NoSuchElement,value:{message:"no such element"}};const o=n.getBoundingClientRect(),i=o.left+o.width/2,c=o.top+o.height/2,l=new Touch({identifier:1,target:n,clientX:i,clientY:c,pageX:i,pageY:c}),u=new TouchEvent("touchstart",{bubbles:!0,touches:[l],targetTouches:[l],changedTouches:[l]}),a=new TouchEvent("touchend",{bubbles:!0,changedTouches:[l]});return n.dispatchEvent(u),t?setTimeout(()=>n.dispatchEvent(a),500):n.dispatchEvent(a),{status:s.default.Success}},this.touchDown=(e,t)=>{const n=this.ACTIVE_ELEMENT=document.elementFromPoint(e,t);this.LAST_X=e,this.LAST_Y=t;const o=new Touch({identifier:1,target:n,clientX:e,clientY:t,pageX:e,pageY:t}),i=new TouchEvent("touchstart",{bubbles:!0,touches:[o],targetTouches:[o],changedTouches:[o]});return n.dispatchEvent(i),{status:s.default.Success}},this.touchUp=(e,t)=>{const n=this.ACTIVE_ELEMENT||document.elementFromPoint(e,t),o=new Touch({identifier:1,target:n,clientX:e,clientY:t,pageX:e,pageY:t});this.ACTIVE_ELEMENT=null,this.LAST_X=0,this.LAST_Y=0;const i=new TouchEvent("touchend",{bubbles:!0,changedTouches:[o]});return n.dispatchEvent(i),{status:s.default.Success}},this.touchMove=(e,t)=>{const n=this.ACTIVE_ELEMENT||document.elementFromPoint(e,t),o=new Touch({identifier:1,target:n,clientX:e,clientY:t,pageX:e,pageY:t}),i=new TouchEvent("touchmove",{bubbles:!0,touches:[o],targetTouches:[o],changedTouches:[o]});return!n.dispatchEvent(i)||(document.documentElement.scrollLeft+=this.LAST_X-e,document.documentElement.scrollTop+=this.LAST_Y-t),this.LAST_X=e,this.LAST_Y=t,{status:s.default.Success}},this.actionElementFromPoint=(e,t)=>{const n=document.elementFromPoint(e,t);if(!n)return{status:s.default.NoSuchElement,value:{message:"no such element"}};let o=n;for(;!o.getAttribute("t_action");)if(!(o=o.parentElement)||o===document.body){o=n;break}return{status:s.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(o)}}}}init(){super.init({[c.tapElement]:({ELEMENT:e})=>this.tapElement(e),[c.longtapElement]:({ELEMENT:e})=>this.tapElement(e,!0),[c.touchDown]:({x:e,y:t})=>this.touchDown(e,t),[c.touchUp]:({x:e,y:t})=>this.touchUp(e,t),[c.touchMove]:({x:e,y:t})=>this.touchMove(e,t),[c.actionElementFromPoint]:({x:e,y:t})=>this.actionElementFromPoint(e,t)})}}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(18),s=n(41);let i;const c=()=>{if(i)return i;const e=`WEBVIEW_${s.webviewID}`;return i=new o(e)};t.default={send:e=>{e.fromWebviewID=s.webviewID,c().send(e)},registerCallback:e=>{c().registerCallback(e)}}},41:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=navigator.userAgent,o=0<n.indexOf(" devtoolsedit"),s=0<n.indexOf(" appservicedevtools");if(t.webviewID="",o)t.webviewID="devtoolsedit";else if(s)t.webviewID="appservicedevtools";else{const e=n.match(/webview\/(\d*)/);if(e){const n=parseInt(e[1],10);isNaN(n)||(t.webviewID=n)}}},44:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Success:0,NoSuchElement:7}},45:function(e){"use strict";e.exports={webview:{scroll:"Driver.scroll",getTagName:"Driver.getTagName",getAttribute:"Driver.getAttribute",getLocation:"Driver.getLocation",getSize:"Driver.getSize",getRect:"Driver.getRect",getCssValue:"Driver.getCssValue",getProperty:"Driver.getProperty",elementFromPoint:"Driver.elementFromPoint",getContentSize:"Driver.getContentSize",findElement:"Driver.findElement",findElements:"Driver.findElements",sendKeys:"Driver.sendKeys",focus:"Driver.focus",scrollIntoView:"Driver.scrollIntoView",actionElementFromPoint:"Driver.actionElementFromPoint",tapElement:"Driver.tapElement",longtapElement:"Driver.longtapElement",touchDown:"Driver.touchDown",touchUp:"Driver.touchUp",touchMove:"Driver.touchMove",findShadowRoot:"Driver.findShadowRoot",findElementInWebviewShadowRoot:"Driver.findElementInWebviewShadowRoot",clickContextMenu:"Driver.clickContextMenu"}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(27),s=n(41),i=n(44),c=n(45),{webview:l}=c,u=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;class a{constructor(){this.ELEMENTS_INFO={},this.ELEMENTS_WEAK_MAP=new WeakMap,this.getElementId=e=>{let t=this.ELEMENTS_WEAK_MAP.get(e);return t||(t=`${s.webviewID}_${Math.random()}${Date.now()}`,this.ELEMENTS_INFO[t]=e,this.ELEMENTS_WEAK_MAP.set(e,t)),t},this.getDOM=e=>this.ELEMENTS_INFO[e],this.removeDOM=e=>{const t=this.ELEMENTS_WEAK_MAP.get(e);return t&&(delete this.ELEMENTS_INFO[t],this.ELEMENTS_WEAK_MAP.delete(e)),t},new u(e=>{e.forEach(e=>{0<e.removedNodes.length&&e.removedNodes.forEach(e=>{e&&this.removeDOM(e)})})}).observe(document,{childList:!0})}}t.default=class{constructor(){this.nodeManager=new a,this.findElement=(e,t)=>{if("css selector"===e){const e=document.querySelector(t);if(e)return{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(e)}}}return{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.findElements=(e,t)=>{if("css selector"===e){const e=document.querySelectorAll(t),n=[];return e.forEach(e=>{n.push(this.nodeManager.getElementId(e))}),{status:i.default.Success,value:n}}return{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.scroll=(e,t)=>(document.documentElement&&(document.documentElement.scrollLeft+=e,document.documentElement.scrollTop+=t),document.body.scrollLeft+=e,document.body.scrollTop+=t,{status:i.default.Success}),this.getTagName=e=>{const t=this.nodeManager.getDOM(e);return t?{status:i.default.Success,value:t.tagName.toLowerCase()}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getCssValue=(e,t)=>{const n=this.nodeManager.getDOM(e);if(!n)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const o=window.getComputedStyle(n);return{status:i.default.Success,value:o[t]}},this.getProperty=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:i.default.Success,value:n[t]}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getLocation=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:i.default.Success,value:{x:n.left,y:n.top}}},this.getSize=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:i.default.Success,value:{width:n.width,height:n.height}}},this.getRect=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();let o=t;return"wx-scroll-view"===t.localName&&(o=t.querySelector("div div")||t),{status:i.default.Success,value:{x:n.left,y:n.top,width:n.width,height:n.height,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,scrollHeight:o.scrollHeight,scrollWidth:o.scrollWidth}}},this.getAttribute=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:i.default.Success,value:n.getAttribute(t)}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.elementFromPoint=(e,t)=>{const n=document.elementFromPoint(e,t);return n?{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(n)}}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.focus=e=>{const t=this.nodeManager.getDOM(e);return t||t?(t.focus(),{status:i.default.Success}):{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getContentSize=()=>({status:i.default.Success,value:{windowHeight:window.innerHeight,windowWidth:window.innerWidth,scrollTop:document.body.scrollTop||document.documentElement.scrollTop,scrollLeft:document.body.scrollLeft||document.documentElement.scrollLeft,scrollHeight:document.body.scrollHeight||document.documentElement.scrollHeight,scrollWidth:document.body.scrollWidth||document.documentElement.scrollWidth}}),this.findShadowRoot=e=>{const t=document.querySelector(e);if(!t||!t.shadowRoot)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.shadowRoot;return{status:i.default.Success,value:{WEBVIEW_SHADOW_ROOT:this.nodeManager.getElementId(n)}}},this.findElementInWebviewShadowRoot=(e,t)=>{const n=this.nodeManager.getDOM(t);if(!n)return{status:i.default.NoSuchElement,value:{message:"shadow root not found"}};const o=n.querySelector(e);return o?{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(o)}}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.clickContextMenu=e=>($contextMenuClicked(e),{status:i.default.Success}),this.scrollIntoView=e=>{const t=this.nodeManager.getDOM(e);return t?(t.scrollIntoView(),{status:i.default.Success}):{status:i.default.NoSuchElement,value:{message:"no such element"}}}}init(e={}){const t={[l.findElement]:({using:e,value:t})=>this.findElement(e,t),[l.findElements]:({using:e,value:t})=>this.findElements(e,t),[l.scroll]:({xoffset:e,yoffset:t})=>this.scroll(e,t),[l.getTagName]:({ELEMENT:e})=>this.getTagName(e),[l.getAttribute]:({ELEMENT:e,name:t})=>this.getAttribute(e,t),[l.getCssValue]:({ELEMENT:e,propertyName:t})=>this.getCssValue(e,t),[l.getProperty]:({ELEMENT:e,propertyName:t})=>this.getProperty(e,t),[l.getSize]:({ELEMENT:e})=>this.getSize(e),[l.getRect]:({ELEMENT:e})=>this.getRect(e),[l.getLocation]:({ELEMENT:e})=>this.getLocation(e),[l.elementFromPoint]:({x:e,y:t})=>this.elementFromPoint(e,t),[l.getContentSize]:this.getContentSize,[l.focus]:({ELEMENT:e})=>this.focus(e),[l.scrollIntoView]:({ELEMENT:e})=>this.scrollIntoView(e),[l.findShadowRoot]:({selector:e})=>this.findShadowRoot(e),[l.findElementInWebviewShadowRoot]:({selector:e,shadowRootHostId:t})=>this.findElementInWebviewShadowRoot(e,t),[l.clickContextMenu]:({id:e})=>this.clickContextMenu(e)};o.default.registerCallback(({command:n,data:s})=>{const i=e[n]||t[n];if(i){const e=i(s);o.default.send({command:`${n}.callback`,data:{callbackID:s.callbackID,res:e}})}})}}},65:function(e,t,n){"use strict";function o(){g||(g=document.createElement("div"),(E=document.createElement("i")).style.backgroundImage="light"===__wxConfig.window.backgroundTextStyle?`url(${l.default})`:`url(${c.default})`,E.style.width="32px",E.style.position="absolute",E.style.height="6px",E.style.left="50%",E.style.bottom="20px",E.style.backgroundRepeat="no-repeat",E.style.marginLeft="-16px",E.style.backgroundSize="cover",g.appendChild(E),g.style.height="0px",g.style.width="100%",g.style.position="fixed",g.style.top="0px",g.style.backgroundColor=__wxConfig.window.backgroundColorTop||__wxConfig.window.backgroundColor),"1"!==document.body.getAttribute("data-insertloading")&&(document.body.setAttribute("data-insertloading","1"),document.body.insertBefore(g,document.body.firstChild))}function s(){window.document.body.style.transition="all linear 0.3s",window.document.body.style.marginTop="0px",g&&(g.style.transition="all linear 0.3s",window.document.body.style.marginTop="0px",g.style.height="0px")}function i(){u.default.send({command:"PULLDOWN_REFRESH"})}Object.defineProperty(t,"__esModule",{value:!0});const c=n(239),l=n(240),u=n(27),a=100,r=50;let d=!1,h=0,m=0,g=null,E=null,f=!1,w=!1;window.enablePullDownRefresh=function(){w||(window.addEventListener("touchstart",function(e){0===window.scrollY&&(o(),d=!0,h=e.touches[0].pageY,window.document.body.style.transition="all linear 0",g.style.transition="all linear 0")},!0),window.addEventListener("touchmove",function(e){d&&__wxConfig.window.enablePullDownRefresh&&!f&&(m=e.touches[0].pageY-h,m=Math.max(0,m),m=Math.min(a,m),window.document.body.style.marginTop=`${m}px`,g.style.height=`${m}px`)}),window.addEventListener("touchend",function(){d=!1,m>r?(i(),m=r,window.document.body.style.marginTop=`${m}px`,g.style.height=`${m}px`,setTimeout(s,3e3)):s()}),w=!0)},t.default={init:function(){u.default.registerCallback(e=>{const{command:t,data:n}=e;if("STOP_PULLDOWN_REFRESH"===t&&s(),"START_PULLDOWN_REFRESH"===t){if(!__wxConfig.window.enablePullDownRefresh||f)return;o(),g.style.height=`${r}px`,window.document.body.style.transition="all linear 0",window.document.body.style.marginTop=`${r}px`,i()}"SET_BACKGROUND_COLOR"===t&&(o(),g.style.backgroundColor=n.backgroundColorTop||n.backgroundColor),"SET_BACKGROUND_TEXT_STYLE"===t&&(o(),E.style.backgroundImage="light"===n.textStyle?`url(${l.default})`:`url(${c.default})`)})},reset:s,togglePullDownRefresh:function(e){f=e}}}});