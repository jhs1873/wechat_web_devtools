!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=273)}({18:function(e){const t=window.navigator||window.__global.navigator,n=window.WebSocket||window.__global.WebSocket,o=window.prompt||window.__global.prompt,r=t.userAgent.match(/port\/(\d*)/),i=r?parseInt(r[1]):9974,a=`ws://127.0.0.1:${i}`;let s=0;e.exports=class{constructor(e,t=!0){if(this._protocol=e,this._needToken=t,this._ws=null,this._msgQueue=[],this._callback=[],this.tryTime=0,"complete"===document.readyState||"interactive"===document.readyState)setTimeout(()=>{this.connect()});else{const e=()=>{this.connect(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}connect(){if(!i)return;if(s++>=10)return;let e=this._protocol;if(this._needToken){e=`${e}#${o("GET_MESSAGE_TOKEN")}#`}this._ws=new n(a,e),this._ws.onopen=()=>{let e=[].concat(this._msgQueue);this._msgQueue=[],e.forEach(e=>{this.send(e)})},this._ws.onclose=()=>{this._ws=null,setTimeout(()=>{this.tryTime<100&&(this.tryTime++,this.connect())},150)},this._ws.onmessage=e=>{try{let t=JSON.parse(e.data);this._callback.forEach(e=>{try{e.call(this,t)}catch(e){}})}catch(e){}}}send(e){this._ws&&this._ws.readyState===n.OPEN?this._ws.send(JSON.stringify(e)):this._msgQueue.push(e)}registerCallback(e){"function"==typeof e&&this._callback.push(e)}}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(18),r=n(41);let i;const a=()=>{if(i)return i;const e=`WEBVIEW_${r.webviewID}`;return i=new o(e)};t.default={send:e=>{e.fromWebviewID=r.webviewID,a().send(e)},registerCallback:e=>{a().registerCallback(e)}}},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(274),r=n(276),i=n(277),a=n(278),s=n(279),c=n(280),l=n(281),u=n(282),d=n(283),f=n(284),m=n(290),g=n(292),E=n(293),h=n(52),{isWebDebugger:w,isMiniProgramHtmlWebview:p,isMiniProgram:v,isAppService:_,isGame:b,isIDEPlugin:y,isSimulatorPlugin:O,isSubAppWindow:S,isEditor:M,isAppServiceDevtools:I,isGitManager:T,isCloudConsoleV1:A,isTestMode:P}=E.default;(()=>{if(d.default(),"undefined"!=typeof nw){const e=nw.Menu.prototype.popup;nw.Menu.prototype.popup=function(...t){nw.Window.get().window.global.Win.contextMenu={type:"nw",menu:this},console.log("hacked menu.popup:",t,this,e),e.apply(this,t)}}S||(a.default(),s.default(),c.default()),p&&r.default(),w&&f.default(),(b||_)&&o.default(),(b||v||_)&&(l.default(),u.default()),(b||v||p)&&i.default(),y&&m.default(),O&&g.default(),(M||I||T||A)&&P&&(new h.default).init()})()},274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(275);t.default=()=>{const e=Object.getOwnPropertyNames(window).filter(e=>0>o.nodeGlobal.indexOf(e));for(const t of e){if(o.windowRemain[t])continue;const e=Object.getOwnPropertyDescriptor(window,t);e&&!0!==e.configurable||delete window[t]}for(const e in document){if(o.documentRemain[e])continue;const t=Object.getOwnPropertyDescriptor(document,e);t&&!0!==t.configurable||(delete document[e],Object.defineProperty(document,e,{configurable:!0,value:void 0}))}for(const e in window.__global.document){if(o.__globalDocumentRemain[e])continue;const t=Object.getOwnPropertyDescriptor(window.__global.document,e);t&&!0!==t.configurable||(delete window.__global.document[e],Object.defineProperty(window.__global.document,e,{configurable:!0,value:void 0}))}}},275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowRemain={parent:!0,__global:!0,atob:!0,onload:!0,setTimeout:!0,setInterval:!0,clearTimeout:!0,clearInterval:!0,requestAnimationFrame:!0,cancelAnimationFrame:!0,WebGLRenderingContext:!0,innerWidth:!0,innerHeight:!0,process:!0,require:!0,navigator:!0,self:!0,performance:!0,webkitURL:!0,scrollTo:!0},t.windowCanNotEnumerable=["XMLHttpRequest","WebSocket","Audio","DOMParser","AudioContext","WebGLRenderingContext","WebAssembly"],t.documentRemain={body:!0,createElement:!0,createDocumentFragment:!0,head:!0,removeEventListener:!0,addEventListener:!0,readyState:!0},t.nodeGlobal=["Object","Function","Array","Number","parseFloat","parseInt","Boolean","String","Symbol","Date","Promise","RegExp","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","JSON","Math","Intl","ArrayBuffer","Uint8Array","Int8Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Float32Array","Float64Array","Uint8ClampedArray","DataView","Map","Set","WeakMap","WeakSet","Proxy","Reflect","Infinity","NaN","undefined","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape","eval","isFinite","isNaN","WebAssembly","console","DTRACE_NET_SERVER_CONNECTION","DTRACE_NET_STREAM_END","DTRACE_HTTP_SERVER_REQUEST","DTRACE_HTTP_SERVER_RESPONSE","DTRACE_HTTP_CLIENT_REQUEST","DTRACE_HTTP_CLIENT_RESPONSE","global","process","GLOBAL","root","Buffer","clearImmediate","clearInterval","clearTimeout","setImmediate","setInterval","setTimeout"],t.__globalDocumentRemain={readyState:!0,onreadystatechange:!0,createElement:!0,getElementById:!0,addEventListener:!0,removeEventListener:!0,getElementsByTagName:!0,Image:!0},t.default={windowRemain:t.windowRemain,windowCanNotEnumerable:t.windowCanNotEnumerable,documentRemain:t.documentRemain,nodeGlobal:t.nodeGlobal,__globalDocumentRemain:t.__globalDocumentRemain}},276:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.__wxjs_environment="miniprogram"}},277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.addEventListener("contextmenu",e=>{e.preventDefault(),window.__global.alert(`contextmenu:${e.clientX}:${e.clientX}`)},!0)}},278:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{document.addEventListener("mousewheel",e=>{e.ctrlKey&&e.preventDefault()},{passive:!1})}},279:function(e,t){"use strict";function n(e){e.preventDefault(),e.stopPropagation()}function o(e){e.preventDefault(),e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});let r=!1;const i=()=>{if(!r){const e=document.body;e&&(e.addEventListener("dragover",n,!1),e.addEventListener("drop",o,!1)),r=!0}};t.default=()=>{if("complete"===document.readyState||"interactive"===document.readyState)i();else{const e=()=>{i(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}},280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.addEventListener("message",e=>{const t=e.data;t&&"object"==typeof t&&function(e){if(e&&("geolocation"===e.module||"locationPicker"===e.module)){let t=e;"geolocation"===e.module&&(t={module:"locationPicker",latlng:{lat:e.lat,lng:e.lng},poiaddress:`${e.province}${e.city}`,poiname:e.addr,cityname:e.city}),window.__global.alert(`map handle:${JSON.stringify(t)}`)}}(t)})}},281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{const e=console.error.bind(console),t=console.warn.bind(console);console.error=function(...t){try{if(1>=t.length)return t[0]instanceof Error&&t[0].stack?e(t[0].stack):e(...t);for(const n of t)if("object"==typeof n)return e(...t);return e(t.join(" "))}catch(n){e(...t)}},console.warn=function(...n){try{if(1>=n.length)return n[0]instanceof Error&&n[0].stack?e(n[0].stack):t(...n);for(const e of n)if("object"==typeof e)return t(...n);return t(n.join(" "))}catch(e){t(...n)}}}},282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{window.onerror=function(e,t,n,o,r){try{return window.__global.WeixinJSBridge.__triggerOnEvent("onError",r),!0}catch(e){}return!1}}},283:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={origin:!0},o=()=>{},r=(e,t)=>{for(const n in Object.setPrototypeOf(e,t),t)try{e[n]=t[n]}catch(t){}};t.default=()=>{if(location.protocol.startsWith("chrome-extension"))return;const e=window.alert,t=window.prompt,i=XMLHttpRequest,a={dialogDisable:!1,alert:function(){if(!window.__global.dialogDisable)return e.apply(window,arguments)},prompt:function(){if(!window.__global.dialogDisable)return t.apply(window,arguments)},parent:window.parent,Worker:Worker,WebSocket:WebSocket,XMLHttpRequest:i,FileReader:FileReader,atob:window.atob.bind(window),btoa:window.btoa.bind(window),requestAnimationFrame:window.requestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,CustomEvent:CustomEvent,clearInterval:clearInterval,Image:Image,Audio:Audio,navigator:navigator,addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),canvasProto:{},canvasWebGlContextProto:{},canvas2dContextProto:{},history:window.history,networkLog:e=>{const t=JSON.stringify(e),n=new i;n.addEventListener("load",()=>{}),n.addEventListener("error",o),n.open(e.method||"POST",`/networklog/${e.type}/${e.reqId}`,!0),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.timestampMs&&n.setRequestHeader("x-timestamp-ms",e.timestampMs.toString()),n.send(t)},createCustomImage:function(e,t){let n="";const o=window.__global.Image;return new class extends o{set src(t){const o=e(t);n=o,super.src=o}get src(){return t(n)}}},document:{},Touch:window.Touch,TouchEvent:window.TouchEvent},s=document.createElement("canvas"),c=document.createElement("canvas"),l=s.getContext("2d"),u=c.getContext("webgl");try{r(a.canvasProto,Object.getPrototypeOf(s))}catch(e){}try{r(a.canvasWebGlContextProto,Object.getPrototypeOf(u))}catch(e){}try{r(a.canvas2dContextProto,Object.getPrototypeOf(l))}catch(e){}for(const e in window.document)if(!n[e])try{a.document[e]="function"==typeof window.document[e]?window.document[e].bind(document):window.document[e]}catch(t){}window.__global=a}},284:function(e,t,n){"use strict";function o(){(function(){const e=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"],t=[window.__proto__,document.__proto__];for(const n of e)for(const e of t)n in e||Object.defineProperty(e,n,{value:null,writable:!0,configurable:!0,enumerable:!0})})(),window.WeixinJSBridge=r.default();const e=document.createEvent("UIEvent");e.initEvent("WeixinJSBridgeReady",!1,!1),document.dispatchEvent(e)}Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.default=()=>{if("complete"===document.readyState||"interactive"===document.readyState)o();else{const e=()=>{o(),document.removeEventListener("DOMContentLoaded",e)};document.addEventListener("DOMContentLoaded",e)}}},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(286),r=n(289),i=()=>{console.error("WeixinJSBridge.call 不被支持，请参考 http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html 进行正确调用")},a=e=>{console.log(e)};t.default=()=>({invoke:o.default(),on:r.default(),call:i,log:a})},286:function(e,t,n){"use strict";function o(e,t,n){if(!/^__sys/.test(e)){if("shareTimeline"===e||"sendAppMessage"===e){const t="shareTimeline"===e?"onMenuShareTimeline":"onMenuShareAppMessage",n="shareTimeline"===e?"updateTimelineShareData":"updateAppMessageShareData";console.warn(`wx.${t} is about to be abandoned, please use wx.${n}. See https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#10 for more detail.`)}"startRecord"===e&&console.warn("开发者工具录制的音频并非是真正的silk格式文件，对其以silk格式进行解析将发生错误"),console.group(`${new Date} wx.${i.default.getSdkDisplayName(e)} begin`),console.info(i.default.getSdkArgs(e,t)),console.groupEnd();const o=s++;a[o]={api:e,cb:n},r.default.send({command:"WEBDEBUGGER_INVOKE",data:{api:e,args:t,callbackID:o}})}}Object.defineProperty(t,"__esModule",{value:!0});const r=n(71),i=n(287),a={};let s=1,c=!1;t.default=()=>(c||(c=!0,r.default.registerCallback(e=>{const{command:t,data:n}=e;if("WEBDEBUGGER_INVOKE_CALLBACK"===t){const e=n.callbackID,t=a[e];if(t&&"function"==typeof t.cb){const e=t.api,o=n.res,r=n.ext;if(console.group(`${new Date} wx.${i.default.getSdkDisplayName(e)} end`),console.info(i.default.getSdkArgs(e,o)),console.groupEnd(),"preVerifyJSAPI"===e&&/^config:ok/.test(o.errMsg)){const e=r.args.verifyJsApiList||[],t=r.sdkResExt,n=[];let o=[];e.forEach(e=>{(t.defaultPurview[e]||t.purviewFormGetA8key[e]||t.purviewFromPreVerify[e])&&(0===o.length?n.push(o):6===o.length&&(o=[],n.push(o)),o.push(i.default.getSdkDisplayName(e)))}),console.group(`${new Date} 当前页面通过 wx.config 获取到的 JSSDK 权限如下`),console.table(n),console.groupEnd()}"function"==typeof t.cb&&t.cb(o)}delete a[e]}else"WEBDEBUGGER_GET_TITLE"===t&&self===top&&r.default.send({command:"WEBDEBUGGER_GET_TITLE_RES",data:{title:document.title}})})),o)},287:function(e,t,n){"use strict";function o(e){return r.default.sdkDisplayName[e]||e}Object.defineProperty(t,"__esModule",{value:!0});const r=n(288);t.default={getSdkArgs:function(e,t={}){const n=JSON.parse(JSON.stringify(t));if(delete n.verifyAppId,"preVerifyJSAPI"===e)n.jsApiList=n.verifyJsApiList||[],n.jsApiList.forEach((e,t)=>{n.jsApiList[t]=o(e)}),n.verifyNonceStr&&(n.nonceStr=n.verifyNonceStr),n.verifySignature&&(n.signature=n.verifySignature),n.verifyTimestamp&&(n.timestamp=n.verifyTimestamp),delete n.verifyJsApiList,delete n.verifyNonceStr,delete n.verifySignature,delete n.verifyTimestamp,delete n.verifySignType;else for(const e in t)r.default.doNotDisplayArgsConfig[e]&&delete n[e];return n},getSdkDisplayName:o}},288:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={sdkDisplayName:{shareTimeline:"onMenuShareTimeline",sendAppMessage:"onMenuShareAppMessage",shareQQ:"onMenuShareQQ",shareWeiboApp:"onMenuShareWeibo",shareQZone:"onMenuShareQZone","menu:share:timeline":"onMenuShareTimeline","menu:share:appmessage":"onMenuShareAppMessage","menu:share:qq":"onMenuShareQQ","menu:share:weiboApp":"onMenuShareWeibo","menu:share:QZone":"onMenuShareQZone",preVerifyJSAPI:"config",imagePreview:"previewImage",geoLocation:"getLocation",openProductViewWithPid:"openProductSpecificView",batchAddCard:"addCard",batchViewCard:"openCard",getBrandWCPayRequest:"chooseWXPay",showPickerView:"showPickerView",showDatePickerView:"showDatePickerView"},doNotDisplayArgsConfig:{appId:!0,verifyAppId:!0,verifyNonceStr:!0,verifySignType:!0,verifySignature:!0,verifyTimestamp:!0,origin:!0,webviewId:!0,__isFromOn__:!0,__domain__:!0,__url__:!0}}},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(71),r={};let i=!1;t.default=()=>(i||(i=!0,o.default.registerCallback(e=>{const{command:t,data:n}=e;if("WEBDEBUGGER_ON_EVENT"===t){const e=r[n.eventName];"function"==typeof e&&e(n.data)}})),(e,t)=>{r[e]=t})},290:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(72),r=n(73),i=n(291);t.default=()=>{const e=window.navigator.userAgent.match(/pluginid\/(\S*)/),t=e?e[1]:"";t&&(Object.defineProperty(window,"wechatide",{value:new o.default(t),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"pluginStorage",{value:new r.default,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"logger",{value:new i.default(t),writable:!1,enumerable:!1,configurable:!1}),window.dispatchEvent(new CustomEvent("wechatideReady",{detail:window.wechatide})),window.dispatchEvent(new CustomEvent("pluginStorageReady",{detail:window.pluginStorage})))}},291:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.pluginId=e}error(...e){window.wechatide.invoke("PLUGIN_LOGGER_ERROR",{msg:e||[],pluginId:this.pluginId})}info(...e){window.wechatide.invoke("PLUGIN_LOGGER_INFO",{msg:e||[],pluginId:this.pluginId})}}},292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(72),r=n(73),i={APPSERVICE:{onBeforeInvoke:"APPSERVICE_ON_BEFORE_INVOKE",offBeforeInvoke:"APPSERVICE_OFF_BEFORE_INVOKE",onAfterInvoke:"APPSERVICE_ON_AFTER_INVOKE",offAfterInvoke:"APPSERVICE_OFF_AFTER_INVOKE",onBeforeTriggerEvent:"APPSERVICE_ON_BEFORE_TRIGGER_EVENT",offBeforeTriggerEvent:"APPSERVICE_OFF_BEFORE_TRIGGER_EVENT",onAfterTriggerEvent:"APPSERVICE_ON_AFTER_TRIGGER_EVENT",offAfterTriggerEvent:"APPSERVICE_OFF_AFTER_TRIGGER_EVENT"},WEBVIEW:{onBeforeInvoke:"WEBVIEW_ON_BEFORE_INVOKE",offBeforeInvoke:"WEBVIEW_OFF_BEFORE_INVOKE",onAfterInvoke:"WEBVIEW_ON_AFTER_INVOKE",offAfterInvoke:"WEBVIEW_OFF_AFTER_INVOKE",onBeforeTriggerEvent:"WEBVIEW_ON_BEFORE_TRIGGER_EVENT",offBeforeTriggerEvent:"WEBVIEW_OFF_BEFORE_TRIGGER_EVENT",onAfterTriggerEvent:"WEBVIEW_ON_AFTER_TRIGGER_EVENT",offAfterTriggerEvent:"WEBVIEW_OFF_AFTER_TRIGGER_EVENT"}};class a extends o.default{constructor(e){super(e),this.callbackCounter=1,this.callbackMap={},this.__messager.registerCallback(e=>{const{command:t,data:n}=e;if("SIMULATOR_PLUGIN_HOOK_CALLBACK"===t){const{callbackID:e,args:t,eventName:o}=n;let r;r=o?this.callbackMap[e].cb(o,t):this.callbackMap[e].cb(t),Promise.resolve(r).then(t=>{t&&this.__messager.send({command:"SIMULATOR_PLUGIN_HOOK_CALLBACK_RETURN",data:t,callbackID:e})})}})}wrapCallback(e,t,n){n="function"==typeof n?n:()=>{},this.deleteFromCallbackMap(e,t);const o=this.callbackCounter;return this.callbackMap[o]={cb:n,type:e,api:t},this.callbackCounter++,o}deleteFromCallbackMap(e,t){for(const n in this.callbackMap)if(this.callbackMap[n].type===e&&this.callbackMap[n].api===t){delete this.callbackMap[n];break}}recordOffMethod(e,t){const[n,o]=t,r=e.split("_");r[1]="ON";const i=r.join("_");this.deleteFromCallbackMap(i,n),this.invoke(e,{api:n,options:o})}recordOnMethod(e,t){const[n,o,r]=t;this.invoke(e,{callbackID:this.wrapCallback(e,n,r),api:n,options:o})}get simulator(){return{appservice:this.appservice,webview:this.webview}}get appservice(){const e=i.APPSERVICE;return{onBeforeInvoke:(...t)=>{this.recordOnMethod(e.onBeforeInvoke,t)},offBeforeInvke:(...t)=>{this.recordOffMethod(e.offBeforeInvoke,t)},onAfterInvoke:(...t)=>{this.recordOnMethod(e.onAfterInvoke,t)},offAfterInvoke:(...t)=>{this.recordOffMethod(e.offAfterInvoke,t)},onBeforeTriggerEvent:(...t)=>{this.recordOnMethod(e.onBeforeTriggerEvent,t)},offBeforeTriggerEvent:(...t)=>{this.recordOffMethod(e.offBeforeTriggerEvent,t)},onAfterTriggerEvent:(...t)=>{this.recordOnMethod(e.onAfterTriggerEvent,t)},offAfterTriggerEvent:(...t)=>{this.recordOffMethod(e.offAfterTriggerEvent,t)}}}get webview(){const e=i.WEBVIEW;return{onBeforeInvoke:(...t)=>{this.recordOnMethod(e.onBeforeInvoke,t)},offBeforeInvke:(...t)=>{this.recordOffMethod(e.offBeforeInvoke,t)},onAfterInvoke:(...t)=>{this.recordOnMethod(e.onAfterInvoke,t)},offAfterInvoke:(...t)=>{this.recordOffMethod(e.offAfterInvoke,t)},onBeforeTriggerEvent:(...t)=>{this.recordOnMethod(e.onBeforeTriggerEvent,t)},offBeforeTriggerEvent:(...t)=>{this.recordOffMethod(e.offBeforeTriggerEvent,t)},onAfterTriggerEvent:(...t)=>{this.recordOnMethod(e.onAfterTriggerEvent,t)},offAfterTriggerEvent:(...t)=>{this.recordOffMethod(e.offAfterTriggerEvent,t)}}}}t.default=()=>{const e=window.navigator.userAgent.match(/pluginid\/(\S*)/),t=e?e[1]:"";t&&(Object.defineProperty(window,"wechatide",{value:new a(t),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(window,"pluginStorage",{value:new r.default,writable:!1,enumerable:!1,configurable:!1}),window.dispatchEvent(new CustomEvent("wechatideReady",{detail:window.wechatide})),window.dispatchEvent(new CustomEvent("pluginStorageReady",{detail:window.pluginStorage})))}},293:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=navigator.userAgent||"",o=0<n.indexOf(" webdebugger "),r=0<n.indexOf(" miniprogramhtmlwebview "),i=0<n.indexOf(" miniprogram "),a=0<n.indexOf(" gameservice "),s=0<n.indexOf(" appservice "),c=0<n.indexOf(" wechatideplugin "),l=0<n.indexOf(" simulatorplugin "),u=/^chrome-extension:\/\/\w+\/html\/subapp-window.html/.test(location.href),d=0<n.indexOf(" devtoolsedit"),f=0<n.indexOf(" appservicedevtools"),m=0<n.indexOf(" gitmanager"),g=0<n.indexOf(" cloudconsolev1"),E=0<n.indexOf(" test-mode");t.default={isWebDebugger:o,isMiniProgramHtmlWebview:r,isMiniProgram:i,isAppService:s,isGame:a,isIDEPlugin:c,isSimulatorPlugin:l,isSubAppWindow:u,isEditor:d,isAppServiceDevtools:f,isGitManager:m,isCloudConsoleV1:g,isTestMode:E}},41:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=navigator.userAgent,o=0<n.indexOf(" devtoolsedit"),r=0<n.indexOf(" appservicedevtools");if(t.webviewID="",o)t.webviewID="devtoolsedit";else if(r)t.webviewID="appservicedevtools";else{const e=n.match(/webview\/(\d*)/);if(e){const n=parseInt(e[1],10);isNaN(n)||(t.webviewID=n)}}},44:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Success:0,NoSuchElement:7}},45:function(e){"use strict";e.exports={webview:{scroll:"Driver.scroll",getTagName:"Driver.getTagName",getAttribute:"Driver.getAttribute",getLocation:"Driver.getLocation",getSize:"Driver.getSize",getRect:"Driver.getRect",getCssValue:"Driver.getCssValue",getProperty:"Driver.getProperty",elementFromPoint:"Driver.elementFromPoint",getContentSize:"Driver.getContentSize",findElement:"Driver.findElement",findElements:"Driver.findElements",sendKeys:"Driver.sendKeys",focus:"Driver.focus",scrollIntoView:"Driver.scrollIntoView",actionElementFromPoint:"Driver.actionElementFromPoint",tapElement:"Driver.tapElement",longtapElement:"Driver.longtapElement",touchDown:"Driver.touchDown",touchUp:"Driver.touchUp",touchMove:"Driver.touchMove",findShadowRoot:"Driver.findShadowRoot",findElementInWebviewShadowRoot:"Driver.findElementInWebviewShadowRoot",clickContextMenu:"Driver.clickContextMenu"}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(27),r=n(41),i=n(44),a=n(45),{webview:s}=a,c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;class l{constructor(){this.ELEMENTS_INFO={},this.ELEMENTS_WEAK_MAP=new WeakMap,this.getElementId=e=>{let t=this.ELEMENTS_WEAK_MAP.get(e);return t||(t=`${r.webviewID}_${Math.random()}${Date.now()}`,this.ELEMENTS_INFO[t]=e,this.ELEMENTS_WEAK_MAP.set(e,t)),t},this.getDOM=e=>this.ELEMENTS_INFO[e],this.removeDOM=e=>{const t=this.ELEMENTS_WEAK_MAP.get(e);return t&&(delete this.ELEMENTS_INFO[t],this.ELEMENTS_WEAK_MAP.delete(e)),t},new c(e=>{e.forEach(e=>{0<e.removedNodes.length&&e.removedNodes.forEach(e=>{e&&this.removeDOM(e)})})}).observe(document,{childList:!0})}}t.default=class{constructor(){this.nodeManager=new l,this.findElement=(e,t)=>{if("css selector"===e){const e=document.querySelector(t);if(e)return{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(e)}}}return{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.findElements=(e,t)=>{if("css selector"===e){const e=document.querySelectorAll(t),n=[];return e.forEach(e=>{n.push(this.nodeManager.getElementId(e))}),{status:i.default.Success,value:n}}return{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.scroll=(e,t)=>(document.documentElement&&(document.documentElement.scrollLeft+=e,document.documentElement.scrollTop+=t),document.body.scrollLeft+=e,document.body.scrollTop+=t,{status:i.default.Success}),this.getTagName=e=>{const t=this.nodeManager.getDOM(e);return t?{status:i.default.Success,value:t.tagName.toLowerCase()}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getCssValue=(e,t)=>{const n=this.nodeManager.getDOM(e);if(!n)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const o=window.getComputedStyle(n);return{status:i.default.Success,value:o[t]}},this.getProperty=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:i.default.Success,value:n[t]}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getLocation=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:i.default.Success,value:{x:n.left,y:n.top}}},this.getSize=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();return{status:i.default.Success,value:{width:n.width,height:n.height}}},this.getRect=e=>{const t=this.nodeManager.getDOM(e);if(!t)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.getBoundingClientRect();let o=t;return"wx-scroll-view"===t.localName&&(o=t.querySelector("div div")||t),{status:i.default.Success,value:{x:n.left,y:n.top,width:n.width,height:n.height,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft,scrollHeight:o.scrollHeight,scrollWidth:o.scrollWidth}}},this.getAttribute=(e,t)=>{const n=this.nodeManager.getDOM(e);return n?{status:i.default.Success,value:n.getAttribute(t)}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.elementFromPoint=(e,t)=>{const n=document.elementFromPoint(e,t);return n?{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(n)}}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.focus=e=>{const t=this.nodeManager.getDOM(e);return t||t?(t.focus(),{status:i.default.Success}):{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.getContentSize=()=>({status:i.default.Success,value:{windowHeight:window.innerHeight,windowWidth:window.innerWidth,scrollTop:document.body.scrollTop||document.documentElement.scrollTop,scrollLeft:document.body.scrollLeft||document.documentElement.scrollLeft,scrollHeight:document.body.scrollHeight||document.documentElement.scrollHeight,scrollWidth:document.body.scrollWidth||document.documentElement.scrollWidth}}),this.findShadowRoot=e=>{const t=document.querySelector(e);if(!t||!t.shadowRoot)return{status:i.default.NoSuchElement,value:{message:"no such element"}};const n=t.shadowRoot;return{status:i.default.Success,value:{WEBVIEW_SHADOW_ROOT:this.nodeManager.getElementId(n)}}},this.findElementInWebviewShadowRoot=(e,t)=>{const n=this.nodeManager.getDOM(t);if(!n)return{status:i.default.NoSuchElement,value:{message:"shadow root not found"}};const o=n.querySelector(e);return o?{status:i.default.Success,value:{WEBVIEW_ELEMENT:this.nodeManager.getElementId(o)}}:{status:i.default.NoSuchElement,value:{message:"no such element"}}},this.clickContextMenu=e=>($contextMenuClicked(e),{status:i.default.Success}),this.scrollIntoView=e=>{const t=this.nodeManager.getDOM(e);return t?(t.scrollIntoView(),{status:i.default.Success}):{status:i.default.NoSuchElement,value:{message:"no such element"}}}}init(e={}){const t={[s.findElement]:({using:e,value:t})=>this.findElement(e,t),[s.findElements]:({using:e,value:t})=>this.findElements(e,t),[s.scroll]:({xoffset:e,yoffset:t})=>this.scroll(e,t),[s.getTagName]:({ELEMENT:e})=>this.getTagName(e),[s.getAttribute]:({ELEMENT:e,name:t})=>this.getAttribute(e,t),[s.getCssValue]:({ELEMENT:e,propertyName:t})=>this.getCssValue(e,t),[s.getProperty]:({ELEMENT:e,propertyName:t})=>this.getProperty(e,t),[s.getSize]:({ELEMENT:e})=>this.getSize(e),[s.getRect]:({ELEMENT:e})=>this.getRect(e),[s.getLocation]:({ELEMENT:e})=>this.getLocation(e),[s.elementFromPoint]:({x:e,y:t})=>this.elementFromPoint(e,t),[s.getContentSize]:this.getContentSize,[s.focus]:({ELEMENT:e})=>this.focus(e),[s.scrollIntoView]:({ELEMENT:e})=>this.scrollIntoView(e),[s.findShadowRoot]:({selector:e})=>this.findShadowRoot(e),[s.findElementInWebviewShadowRoot]:({selector:e,shadowRootHostId:t})=>this.findElementInWebviewShadowRoot(e,t),[s.clickContextMenu]:({id:e})=>this.clickContextMenu(e)};o.default.registerCallback(({command:n,data:r})=>{const i=e[n]||t[n];if(i){const e=i(r);o.default.send({command:`${n}.callback`,data:{callbackID:r.callbackID,res:e}})}})}}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(18),r=navigator.userAgent.match(/webview\/([\w]*)/),i=r?r[1]:"",a=`${Date.now()}${Math.floor(1e4*Math.random())}`;let s;const c=()=>{if(s)return s;return s=new o(`WEBDEBUGGER_${a}`)};t.default={send:function(e){e.webviewID=i,e.runtimeID=a,c().send(e)},registerCallback:function(e){c().registerCallback(e)}}},72:function(e,t,n){"use strict";function o(e,t){const n=i();return this.__callbackMap[n]={callback:e,resolve:t},n}Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),i=function(){let e=1;return function(){return e++}}();t.default=class{constructor(e){this.__callbackMap={},this.__onEvent={},Object.defineProperty(this,"__callbackMap",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__onEvent",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"__messager",{value:new r(`PLUGIN_${e}`),writable:!1,enumerable:!1,configurable:!1}),this.__messager.registerCallback(e=>{const{command:t,data:n}=e;if("INVOKE_CALLBACK"===t){const{callbackID:e,res:t}=n,o=this.__callbackMap[e];o&&("function"==typeof o.callback&&o.callback(t),"function"==typeof o.resolve&&o.resolve(t)),delete this.__callbackMap[e]}if("ON_EVENT"===t){const{eventName:e,res:t}=n,o=this.__onEvent[e];"function"==typeof o&&o(t)}})}get invoke(){return(e,t,n)=>new Promise(r=>{n="function"==typeof n?n:()=>{},this.__messager.send({command:e,data:t,callbackID:o.call(this,n,r)})})}get on(){return(e,t)=>{this.__onEvent[e]=t}}}},73:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){}async getItem(e){return(await window.wechatide.invoke("PLUGIN_STORAGE_GET_ITEM",{key:e})).value}async setItem(e,t){await window.wechatide.invoke("PLUGIN_STORAGE_SET_ITEM",{key:e,value:t})}async removeItem(e){await window.wechatide.invoke("PLUGIN_STORAGE_REMOVE_ITEM",{key:e})}}}});